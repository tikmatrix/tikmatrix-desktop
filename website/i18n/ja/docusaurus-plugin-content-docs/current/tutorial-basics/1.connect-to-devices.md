---
sidebar_position: 1
---

# デバイスに接続

TikMatrixは、AndroidデバイスのUSB接続とTCP接続の両方をサポートしています。

## USB接続

1. 携帯電話の開発者設定を開き、USBデバッグを有効にします（下のスクリーンショット参照）。
   - **Xiaomi携帯電話の場合**: 開発者設定で「USB経由でインストール」と「USBデバッグ（セキュリティ設定）」オプションも有効にする必要があります。
2. USB経由で携帯電話をコンピュータに接続します。
3. 携帯電話にプロンプトが表示されたら、`許可`をタップしてUSBデバッグを有効にします。
4. 接続が確立されるまで待ちます。

## TCP接続

1. USB経由で携帯電話をコンピュータに接続します。
2. TikMatrixで、`ADBコマンド` > `TCPを有効にする`をクリックして、TCP/IP接続を有効にします。
3. USBケーブルを取り外します（携帯電話ボックスを使用している場合は、OTGモードに切り替えます）。
4. `TCPデバイスをスキャン`ボタンをクリックし、IP範囲を入力します（ルーターの管理ページで確認できます）。
5. `スキャン`をクリックして、指定されたIP範囲内のデバイスを検索します。
6. 接続が確立されるまで待ちます。

**クラウドフォンの場合**: TikMatrixは、クラウドフォン接続を保存して素早くアクセスできるようになりました。スキャンダイアログの`クラウドフォンリスト`タブに切り替えて、クラウドフォン接続を保存および管理します。詳細な手順については、[クラウドフォンに接続](./1.connect-to-cloudphone.md)ガイドを参照してください。

## スクリーンショット

![USBデバッグを有効にする ステップ1-2](../img/usbsetp12.webp)
![USBデバッグを有効にする ステップ3-4](../img/usbsetp34.webp)
![USBデバッグを有効にする ステップ5-6](../img/usbsetp56.webp)

### ヒント

- 手順はブランドによって異なる場合がありますが、一般的な手順は同様です。
- 応答がない場合は、別のデータケーブルを試すか、コンピュータの背面のUSBポートを使用してください。

## マザーボードまたはケースを接続する方法

1. マザーボードまたはケース販売者から認証ファイル`adbkey`および`adbkey.pub`をリクエストします。
2. これらのファイルをコンピュータの`C:\Users\YourComputerUsername\.android`にコピーします。
3. コンピュータを再起動します。

## スクリーンショット

![ADBキーファイル](../img/adbkey.webp)

### 追加のヒント

- 認証ファイルをバックアップしてください。システムを再インストールしたり、コンピュータを切り替えたりする場合は、再度必要になります。
- これらのファイルが失われた場合、携帯電話の画面で手動で許可を与える必要があります。

## より多くのUSBデバイスを接続する方法

💡 USBは理論上、最大127台のデバイスをサポートします。  
しかし、実際には、ほとんどのコンシューマーマザーボードは、ファームウェアとチップセットの制約により、約40台のデバイスに制限されます。

🖥️ サーバーグレードのマザーボード（例：X79アーキテクチャ）は異なります。通常、これらのUSB制限を削除し、大規模にスケーリングできるようにします。

🔧 より多くのデバイスを正常に接続する方法：

1. PCの背面にあるUSBポートを使用します。これらはマザーボードにより直接配線されています。  
2. USB 2.0ポート（通常黒色）を使用し、USB 3.0（青色）は使用しないでください。大規模ファームでは不安定になる可能性があります。  
3. BIOS設定で：  
   - XHCIを無効にする  
   - EHCIを有効にする

これらの手順は、システムがより多くのデバイスを確実に認識するのに役立ちます。
