---
sidebar_position: 2
title: कार्य प्रबंधन API
description: कार्य प्रबंधन एंडपॉइंट्स के लिए पूर्ण संदर्भ
---

यह पृष्ठ TikMatrix कार्यों को प्रबंधित करने के लिए सभी उपलब्ध API एंडपॉइंट्स को दस्तावेजित करता है।

## कार्य बनाएं

एक या अधिक डिवाइस या उपयोगकर्ता नामों के लिए नया कार्य बनाएं।

- **एंडपॉइंट:** `POST /api/v1/task`
- **Content-Type:** `application/json`

### अनुरोध पैरामीटर

API दो मोड में कार्य बनाने का समर्थन करता है:

**मोड 1: डिवाइस मोड** - डिवाइस के लिए कार्य बनाने के लिए `serials` का उपयोग करें
**मोड 2: उपयोगकर्ता नाम मोड** - विशिष्ट खातों के लिए सीधे कार्य बनाने के लिए `usernames` का उपयोग करें

| पैरामीटर | प्रकार | आवश्यक | विवरण |
|------|------|------|------|
| serials | string[] | सशर्त आवश्यक | डिवाइस सीरियल नंबर की सरणी (यदि `usernames` प्रदान नहीं की गई है तो आवश्यक) |
| usernames | string[] | सशर्त आवश्यक | उपयोगकर्ता नामों की सरणी (यदि `serials` प्रदान नहीं की गई है तो आवश्यक)। इस पैरामीटर को प्रदान करते समय, सीधे इन खातों के लिए कार्य बनाए जाते हैं। |
| script_name | string | हां | निष्पादित करने के लिए स्क्रिप्ट का नाम |
| script_config | object | हां | स्क्रिप्ट के लिए कॉन्फ़िगरेशन पैरामीटर (संबंधित स्क्रिप्ट दस्तावेज़ देखें) |
| enable_multi_account | boolean | नहीं | मल्टी-अकाउंट मोड सक्षम करें या नहीं (डिफ़ॉल्ट: false)। केवल डिवाइस मोड में प्रभावी। |
| start_time | string | नहीं | निर्धारित निष्पादन समय, प्रारूप "HH:MM" |

### समर्थित स्क्रिप्ट

| स्क्रिप्ट नाम | विवरण | दस्तावेज़ |
|----------|------|------|
| post | TikTok/Instagram पर वीडियो या चित्र प्रकाशित करें | [Post स्क्रिप्ट कॉन्फ़िगरेशन](./post-script.md) |

### उदाहरण

```bash
curl -X POST http://localhost:50809/api/v1/task \
  -H "Content-Type: application/json" \
  -d '{
    "serials": ["device_serial_1"],
    "script_name": "post",
    "script_config": {
      "content_type": 0,
      "captions": "मेरा नया वीडियो देखें! #trending #recommended",
      "material_list": ["C:/Videos/video1.mp4"],
      "upload_wait_time": 60
    }
  }'
```

`script_config` के विस्तृत पैरामीटर और अधिक उदाहरणों के लिए, कृपया [Post स्क्रिप्ट कॉन्फ़िगरेशन](./post-script.md) देखें।

### प्रतिक्रिया

```json
{
  "code": 0,
  "message": "success",
  "data": {
    "task_ids": [101, 102],
    "created_count": 2
  }
}
```

## कार्य सूची

वैकल्पिक फ़िल्टर शर्तों के साथ कार्यों की क्वेरी करें।

- **एंडपॉइंट:** `GET /api/v1/task`

| पैरामीटर | प्रकार | आवश्यक | विवरण |
|------|------|------|------|
| status | integer | नहीं | स्थिति के अनुसार फ़िल्टर करें (0=pending, 1=running, 2=completed, 3=failed) |
| serial | string | नहीं | डिवाइस सीरियल नंबर के अनुसार फ़िल्टर करें |
| script_name | string | नहीं | स्क्रिप्ट नाम के अनुसार फ़िल्टर करें |
| source | string | नहीं | स्रोत के अनुसार फ़िल्टर करें ("ui" या "api") |
| page | integer | नहीं | पृष्ठ संख्या (डिफ़ॉल्ट: 1) |
| page_size | integer | नहीं | प्रति पृष्ठ प्रविष्टियां (डिफ़ॉल्ट: 20, अधिकतम: 100) |

## कार्य विवरण प्राप्त करें

निर्दिष्ट कार्य की विस्तृत जानकारी प्राप्त करें।

- **एंडपॉइंट:** `GET /api/v1/task/{task_id}`

## कार्य हटाएं

कार्य हटाएं। यदि कार्य चल रहा है, तो पहले इसे रोकने का प्रयास करेगा।

- **एंडपॉइंट:** `DELETE /api/v1/task/{task_id}`

## बैच में कार्य हटाएं

एक बार में कई कार्य हटाएं, चल रहे कार्यों को पहले रोका जाएगा।

- **एंडपॉइंट:** `DELETE /api/v1/task/batch`
- **अनुरोध बॉडी:** `{ "task_ids": [1, 2, 3] }`

## कार्य रोकें

चल रहे कार्य को रोकें।

- **एंडपॉइंट:** `POST /api/v1/task/{task_id}/stop`

## विफल कार्य पुनः प्रयास करें

एकल विफल कार्य पुनः प्रयास करें।

- **एंडपॉइंट:** `POST /api/v1/task/{task_id}/retry`

## सभी विफल कार्य पुनः प्रयास करें

एक बार में सभी विफल कार्यों को पुनः प्रयास करें।

- **एंडपॉइंट:** `POST /api/v1/task/retry-all`

## कार्य सांख्यिकी प्राप्त करें

कार्यों के लिए समग्र सांख्यिकीय डेटा प्राप्त करें।

- **एंडपॉइंट:** `GET /api/v1/task/stats`
- **प्रतिक्रिया:** total, pending, running, completed, failed की गिनती लौटाता है।

## API लाइसेंस जांचें

जांचें कि आपका लाइसेंस API पहुंच का समर्थन करता है या नहीं।

- **एंडपॉइंट:** `GET /api/v1/license/check`
- **नोट:** Starter योजना त्रुटि कोड 40301 लौटाएगी; Pro/Team/Business योजनाएं API तक पहुंच सकती हैं।
